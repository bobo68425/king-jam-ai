# King Jam AI ç³»çµ±æ•´åˆæ¶æ§‹

## ğŸ“Š è³‡æ–™æ¨¡å‹é—œè¯åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              USERS ç”¨æˆ¶è¡¨                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id, email, tier, subscription_plan, partner_tier                        â”‚
â”‚ credits, credits_promo, credits_sub, credits_paid, credits_bonus        â”‚
â”‚ referral_code, referred_by, total_referrals, total_referral_revenue    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚               â”‚               â”‚                â”‚
          â–¼               â–¼               â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CREDIT_TX      â”‚ â”‚ REFERRAL     â”‚ â”‚ WITHDRAWAL   â”‚ â”‚ GENERATION   â”‚
â”‚  é»æ•¸äº¤æ˜“       â”‚ â”‚ RECORDS      â”‚ â”‚ REQUESTS     â”‚ â”‚ HISTORY      â”‚
â”‚                 â”‚ â”‚ æ¨è–¦è¨˜éŒ„     â”‚ â”‚ æé ˜ç”³è«‹     â”‚ â”‚ ç”Ÿæˆæ­·å²     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ user_id         â”‚ â”‚ referrer_id  â”‚ â”‚ user_id      â”‚ â”‚ user_id      â”‚
â”‚ credit_category â”‚ â”‚ referred_id  â”‚ â”‚ credits_amt  â”‚ â”‚ gen_type     â”‚
â”‚ amount          â”‚ â”‚ bonus_creditsâ”‚ â”‚ amount_twd   â”‚ â”‚ credits_used â”‚
â”‚ balance_before  â”‚ â”‚ partner_tier â”‚ â”‚ status       â”‚ â”‚ status       â”‚
â”‚ balance_after   â”‚ â”‚ status       â”‚ â”‚ bank_info    â”‚ â”‚ output_data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CREDIT_PRICING é»æ•¸å®šåƒ¹è¡¨                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ feature_code, feature_name, tier, credits_cost                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æœƒå“¡ç³»çµ±æµç¨‹

### 1. è¨»å†Šæµç¨‹
```
æ–°ç”¨æˆ¶ â”€â†’ è¼¸å…¥æ¨è–¦ç¢¼(é¸å¡«) â”€â†’ è¨»å†Šå®Œæˆ
                â”‚                    â”‚
                â–¼                    â–¼
        é©—è­‰æ¨è–¦ç¢¼            ç™¼æ”¾ 200 æ´»å‹•é»æ•¸
                â”‚                    â”‚
        æ¨è–¦è€…å­˜åœ¨?                   â”‚
           â”‚   â”‚                     â”‚
          YES  NO                    â”‚
           â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â–¼                         â–¼
    æ¨è–¦è€…ç²å¾— 200 æ´»å‹•é»æ•¸       å®Œæˆ
```

### 2. è¨‚é–±ä»˜è²»æµç¨‹
```
ç”¨æˆ¶é¸æ“‡æ–¹æ¡ˆ â”€â†’ ä»˜æ¬¾æˆåŠŸ â”€â†’ æ›´æ–°è¨‚é–±ç‹€æ…‹
                              â”‚
                              â–¼
                    ç™¼æ”¾æœˆè²»é»æ•¸ (SUB)
                              â”‚
                              â–¼
                    æœ‰æ¨è–¦è€…?
                       â”‚   â”‚
                      YES  NO
                       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºå®Œæˆ
                       â–¼
               è¨ˆç®—æ¨è–¦çé‡‘ (ä¾å¤¥ä¼´ç­‰ç´š)
                       â”‚
                       â–¼
               ç™¼æ”¾çé‡‘é»æ•¸çµ¦æ¨è–¦è€… (BONUS)
                       â”‚
                       â–¼
               æ›´æ–°æ¨è–¦è€…çµ±è¨ˆ & æª¢æŸ¥å‡ç´š
```

### 3. é»æ•¸æ¶ˆè€—æµç¨‹
```
ç”¨æˆ¶ä½¿ç”¨åŠŸèƒ½ â”€â†’ æª¢æŸ¥é¤˜é¡ â”€â†’ é¤˜é¡è¶³å¤ ?
                              â”‚   â”‚
                            YES  NO
                              â”‚   â””â”€â”€â†’ è¿”å›éŒ¯èª¤
                              â–¼
           æŒ‰é †åºæ‰£é™¤: PROMO â†’ SUB â†’ PAID â†’ BONUS
                              â”‚
                              â–¼
                      å»ºç«‹äº¤æ˜“è¨˜éŒ„
                              â”‚
                              â–¼
                      åŸ·è¡Œç”Ÿæˆä»»å‹™
```

### 4. çé‡‘æé ˜æµç¨‹
```
ç”¨æˆ¶ç”³è«‹æé ˜ â”€â†’ æª¢æŸ¥è³‡æ ¼ â”€â†’ æ‰£é™¤ BONUS é»æ•¸
                              â”‚
                              â–¼
                     å»ºç«‹æé ˜ç”³è«‹ (pending)
                              â”‚
                              â–¼
                     ç®¡ç†å“¡å¯©æ ¸ (reviewing)
                              â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                       â–¼             â–¼
                    æ ¸å‡†          é§å›
                       â”‚             â”‚
                       â–¼             â–¼
                    åŒ¯æ¬¾          é€€é‚„é»æ•¸
                       â”‚
                       â–¼
                  å®Œæˆ (completed)
```

## ğŸ“ˆ å¤¥ä¼´å‡ç´šæ©Ÿåˆ¶

| ç­‰ç´š | ä»£ç¢¼ | åˆ†æ½¤ | æ¨è–¦æ•¸æ¢ä»¶ | æ”¶ç›Šæ¢ä»¶ |
|------|------|------|------------|----------|
| ğŸ¥‰ éŠ…ç‰Œ | bronze | 10% | é è¨­ | é è¨­ |
| ğŸ¥ˆ éŠ€ç‰Œ | silver | 15% | â‰¥ 10 äºº | â‰¥ NT$ 5,000 |
| ğŸ¥‡ é‡‘ç‰Œ | gold | 20% | â‰¥ 30 äºº | â‰¥ NT$ 20,000 |

**å‡ç´šåˆ¤å®š**ï¼šå…©é …æ¢ä»¶ä»»ä¸€é”æ¨™å³å‡ç´š
**é™ç´šè¦å‰‡**ï¼šé€£çºŒ 3 å€‹æœˆç„¡æ–°å¢æ¨è–¦å‰‡é™ä¸€ç´š

## ğŸ’° é»æ•¸é¡åˆ¥èªªæ˜

| é¡åˆ¥ | ä»£ç¢¼ | ä¾†æº | æœ‰æ•ˆæœŸ | å¯æé ˜ | æ¶ˆè€—é †åº |
|------|------|------|--------|--------|----------|
| å„ªæƒ é»æ•¸ | PROMO | æ´»å‹•ã€è£œå„Ÿ | 7-30å¤© | âŒ | 1ï¸âƒ£ æœ€å…ˆ |
| æœˆè²»é»æ•¸ | SUB | è¨‚é–±æ–¹æ¡ˆ | ç•¶æœˆæœ‰æ•ˆ | âŒ | 2ï¸âƒ£ |
| è³¼è²·é»æ•¸ | PAID | åˆ·å¡å„²å€¼ | æ°¸ä¹… | âŒ (å¯é€€æ¬¾) | 3ï¸âƒ£ |
| çé‡‘é»æ•¸ | BONUS | æ¨è–¦åˆ†æ½¤ | æ°¸ä¹… | âœ… | 4ï¸âƒ£ æœ€å¾Œ |

**è¨­è¨ˆé‚è¼¯**ï¼šBONUS æœ€å¾Œæ‰£é™¤ï¼Œå› ç‚ºç­‰åŒç¾é‡‘å¯æé ˜ï¼Œè®“ç”¨æˆ¶è‡ªè¡Œæ±ºå®šç”¨é€”ã€‚

## ğŸ”Œ API ç«¯é»ä¸€è¦½

### æ¨è–¦ç³»çµ± `/referral`
| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | /my-code | å–å¾—æˆ‘çš„æ¨è–¦ç¢¼ |
| GET | /stats | å–å¾—å¤¥ä¼´çµ±è¨ˆ |
| GET | /history | å–å¾—æ¨è–¦æ­·å² |
| GET | /bonus-table | å–å¾—çé‡‘å°ç…§è¡¨ |
| GET | /validate/{code} | é©—è­‰æ¨è–¦ç¢¼ |
| POST | /process-registration | è™•ç†æ¨è–¦è¨»å†Š |
| POST | /process-subscription | è™•ç†è¨‚é–±ä»˜è²» |

### é»æ•¸ç³»çµ± `/credits`
| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | /balance | å–å¾—é»æ•¸é¤˜é¡ |
| GET | /transactions | å–å¾—äº¤æ˜“æ­·å² |
| GET | /pricing | å–å¾—é»æ•¸å®šåƒ¹ |
| POST | /withdraw | ç”³è«‹æé ˜ |
| GET | /withdrawal-history | æé ˜æ­·å² |

## ğŸ—„ï¸ è³‡æ–™è¡¨ç¸½è¦½

| è¡¨æ ¼åç¨± | èªªæ˜ | ä¸»è¦æ¬„ä½ |
|----------|------|----------|
| users | ç”¨æˆ¶è¡¨ | id, email, tier, credits, partner_tier |
| credit_transactions | é»æ•¸äº¤æ˜“ | user_id, amount, credit_category |
| credit_pricing | é»æ•¸å®šåƒ¹ | feature_code, credits_cost |
| credit_packages | é»æ•¸æ–¹æ¡ˆ | package_code, credits_amount, price_twd |
| subscription_plans | è¨‚é–±æ–¹æ¡ˆ | plan_code, monthly_price, monthly_credits |
| partner_tiers | å¤¥ä¼´ç­‰ç´š | tier_code, commission_rate |
| referral_bonus_config | æ¨è–¦çé‡‘è¨­å®š | subscription_plan, partner_tier, bonus_credits |
| referral_records | æ¨è–¦è¨˜éŒ„ | referrer_id, referred_id, status |
| withdrawal_requests | æé ˜ç”³è«‹ | user_id, credits_amount, status |
| generation_history | ç”Ÿæˆæ­·å² | user_id, generation_type, credits_used |

---

*æœ€å¾Œæ›´æ–°ï¼š2026-01-11*
